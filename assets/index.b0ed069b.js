var z=Object.defineProperty,Y=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var I=(o,t,i)=>t in o?z(o,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[t]=i,E=(o,t)=>{for(var i in t||(t={}))A.call(t,i)&&I(o,i,t[i]);if(S)for(var i of S(t))F.call(t,i)&&I(o,i,t[i]);return o},_=(o,t)=>Y(o,J(t));var P=(o,t)=>{var i={};for(var s in o)A.call(o,s)&&t.indexOf(s)<0&&(i[s]=o[s]);if(o!=null&&S)for(var s of S(o))t.indexOf(s)<0&&F.call(o,s)&&(i[s]=o[s]);return i};import{u as Q,j as e,B as D,e as V,a,F as b,R as d,r as X,C as Z,S as ee,H as te,D as B,b as re,c as j,T as u,I as $,d as T,f as v,g as M,h as k,i as O,L as U,k as G,l as H,m as oe,n as ie}from"./vendor.4029584d.js";const se=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=i(r);fetch(r.href,l)}};se();var ae="/react-interview-exercise/assets/header_logo.1094da8d.png";const ne={baseStyle:{display:"flex",flexDirection:"column",alignItems:"center",gap:6},variants:{rounded:{padding:8,borderRadius:"40px",boxShadow:"xl",border:"2px solid"},smooth:{padding:6,borderRadius:"base",boxShadow:"md"}},defaultProps:{variant:"smooth"}},le=r=>{var l=r,{variant:o,children:t,borderColor:i}=l,s=P(l,["variant","children","borderColor"]);const c=Q("Card",{variant:o});return e(D,_(E({className:"cs-card",__css:c,borderColor:i},s),{children:t}))},ce={baseStyle:{fontWeight:"bold",borderRadius:"25px",_hover:{bg:"black"}},sizes:{sm:{fontSize:"sm",px:4,py:3},md:{fontSize:"md",px:6,py:4}},variants:{outline:{border:"2px solid"},ghost:{border:"0px solid"},solid:{color:"white"}},defaultProps:{size:"md",variant:"outline"}},de={baseStyle:{bg:"white"}};var he=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Button:ce,Input:de});const ue={brand:{green:"#42E794",darkGreen:"#1E7B75",red:"#FF4658",orange:"#FF6105",lightBlue:"#2ab8ff",darkBlue:"#1467FF",blue:"#2AB8FF",purple:"#630CB2",yellow:"#fff95e"},blue:{500:"#2ab8ff",600:"#1467FF"},yellow:{100:"#fff95e"},red:{100:"#ff4658"},pink:{100:"#e748b9"}},w=V({colors:ue,components:E({Card:ne},he)});const q=({children:o,color:t=w.colors.brand.blue,size:i=["50%","50%"],globSizes:s=[[40,80],[60,50],[20,80]],globPositions:r=[[20,10],[10,20],[20,15]],top:l,left:c,right:g,bottom:f,opacity:y=1,speed:h,radius:m,rotate:p})=>a(b,{children:[a("div",{className:"blob",style:{top:l,left:c,right:g,bottom:f,width:i[0],height:i[1],opacity:y,transform:p?`rotate(${p}deg)`:void 0},children:[e("div",{className:"glob",style:{backgroundColor:t,width:s[0][0]+"%",height:s[0][1]+"%",top:r[0][0]+"%",left:r[0][1]+"%",animation:h?`move ${h*1200}ms infinite alternate ease-in-out`:void 0,borderRadius:m}}),e("div",{className:"glob1",style:{backgroundColor:t,width:s[1][0]+"%",height:s[1][1]+"%",top:r[1][0]+"%",left:r[1][1]+"%",animation:h?`move ${h*1e3}ms infinite alternate ease-in-out`:void 0,borderRadius:m}}),e("div",{className:"glob2",style:{backgroundColor:t,width:s[2][0]+"%",height:s[2][1]+"%",top:r[2][0]+"%",left:r[2][1]+"%",animation:h?`move ${h*800}ms infinite alternate ease-in-out`:void 0,borderRadius:m}})]}),e("svg",{className:"glob-svg",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:e("defs",{children:a("filter",{id:"goo",children:[e("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12",result:"blur"}),e("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),e("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]})})}),e("svg",{className:"glob-svg",viewBox:"0 0 400 400",children:e("defs",{children:e("filter",{id:"duotone-filter-post-one",children:e("feColorMatrix",{type:"matrix",values:"0.14453125 0 0 0 0.33203125 0.71875 0 0 0 0.27734375 -0.34765625 0 0 0 0.73046875 0 0 0 1 0"})})})})]}),pe=({children:o})=>a(b,{children:[a(D,{overflow:"hidden",className:"globParent",position:"absolute",width:"100vw",height:"100%",minHeight:"100vh",children:[e(q,{size:["60%","60%"],speed:30,globSizes:[[60,65],[70,80],[30,75]],left:"0%",top:"10%",opacity:.5,color:w.colors.brand.green}),e(q,{size:["600px","600px"],left:"-50px",top:"-20px",color:w.colors.brand.green})]}),a(D,{className:"cs-header",position:"absolute",top:"0",right:"0",left:"0",width:"100vw",height:"80px",children:[e("a",{href:"https://characterstrong.com",children:e("img",{className:"header-img",src:ae,alt:"CharacterStrong Logo"})}),o]})]}),ge=async o=>{let t=`https://nces.ed.gov/opengis/rest/services/K12_School_Locations/EDGE_GEOCODE_PUBLICLEA_1516/MapServer/0/query?where=UPPER(NAME) LIKE UPPER('%${o}%')&outFields=*&outSR=4326&f=json`,i=[],s=await(await fetch(t)).json();return i=[...s.features?s.features.map(r=>r.attributes):[]],i},fe=async(o,t)=>{let i=`https://services1.arcgis.com/Ua5sjt3LWTPigjyD/arcgis/rest/services/Private_School_Locations_Current/FeatureServer/0/query?where=UPPER(NAME) LIKE UPPER('%${o}%')${t?`%20AND%20LEAID%20%3D%20'${t}'`:""}&outFields=*&outSR=4326&f=json`,s=`https://services1.arcgis.com/Ua5sjt3LWTPigjyD/arcgis/rest/services/Public_School_Location_201819/FeatureServer/0/query?where=UPPER(NAME) LIKE UPPER('%${o}%')${t?`%20AND%20LEAID%20%3D%20'${t}'`:""}&outFields=*&outSR=4326&f=json`,r=[],l=await(await fetch(i)).json(),c=await(await fetch(s)).json();return r=[...l.features?l.features.map(g=>g.attributes):[],...c.features?c.features.map(g=>g.attributes):[]],r};var me="/react-interview-exercise/assets/logo192.55c7501b.png";const Se=()=>{const[o,t]=d.useState(!1),[i,s]=d.useState(!1),[r,l]=d.useState(!1),[c,g]=d.useState(!1),[f,y]=d.useState([]);d.useState([]);const[h,m]=d.useState([]),[p,L]=d.useState("");d.useState("");const[x,C]=d.useState(""),W=n=>{n.preventDefault(),console.log("in validateDistrict",p),s(!0),t(!0),l(!0),R()},K=n=>{n.preventDefault(),console.log("in validateDistrict",p),s(!0),t(!0),N()},R=async()=>{const n=await ge(p);y(n),console.log("District(s):",n),t(!1),console.log("district state",r,"school state",c),L("")},N=async()=>{l(!1);const n=await fe(x);m(n),console.log("School:",n),t(!1),console.log("district state",r,"school state",c),C("")};return X.exports.useEffect(()=>{R(),N()},[]),a(Z,{padding:"100px",children:[" ",e(ee,{initialScale:.9,in:!0,children:a(le,{variant:"rounded",borderColor:"green.400",children:[e(te,{children:"School Data Finder"}),e(B,{margin:4}),a(re,{spacing:12,children:[e("form",{onSubmit:W,children:a(j,{spacing:3,children:[a(u,{textAlign:"center",children:["Enter a ",e("b",{children:"District"})]}),a($,{children:[e(T,{pointerEvents:"none",children:e(v,{color:"blue.500"})}),e(M,{borderRadius:"20",boxShadow:"base",placeholder:"District",value:p,isRequired:!0,onChange:n=>L(n.target.value)})]}),e(k,{colorScheme:"blue",boxShadow:"md",variant:"solid",type:"submit",isFullWidth:!0,children:"Search"}),e(u,{textAlign:"center",children:o?e(O,{}):a(u,{textAlign:"center",children:[f.length," Districts"]})})]})}),e(u,{children:"OR"}),e("form",{onSubmit:K,children:a(j,{spacing:3,children:[a(u,{textAlign:"center",children:["Enter a ",e("b",{children:"School"})]}),a($,{children:[e(T,{children:e(v,{color:"yellow.500"})}),e(M,{focusBorderColor:"yellow.500",borderRadius:"20",boxShadow:"base",placeholder:"School",value:x,isRequired:!0,onChange:n=>C(n.target.value)})]}),e(k,{colorScheme:"yellow",boxShadow:"md",variant:"solid",type:"submit",children:"Search"}),e(u,{textAlign:"center",children:o?e(O,{}):a(u,{children:[h.length," Schools"]})})]})})]}),e(B,{margin:4}),!i&&!r&&e("img",{width:"100",src:me,alt:"CharacterStrong Logo"}),i&&r?a(b,{children:[e(u,{children:e("b",{children:a("u",{children:[p," - ",f.length," Districts"]})})}),f.map(n=>e(U,{spacing:3,children:a(G,{cursor:"pointer",_hover:{fontWeight:"900",color:"blue.500"},children:[e(H,{as:v,color:"blue.500"}),n.NAME," - ",n.LCITY,", ",n.LSTATE]},n.OBJECTID)}))]}):a(b,{children:[e(u,{children:e("b",{children:a("u",{children:[x," - ",h.length," Schools"]})})}),h.map(n=>e(U,{spacing:3,children:a(G,{cursor:"pointer",_hover:{fontWeight:"900",color:"yellow.500"},children:[e(H,{as:v,color:"yellow.500"}),n.NAME," - ",n.CITY,", ",n.STATE]},n.NCESSCH)}))]})]})})]})};function be(){return a("div",{className:"App",children:[e(pe,{}),e(Se,{})]})}oe.render(e(d.StrictMode,{children:e(ie,{theme:w,children:e(be,{})})}),document.getElementById("root"));
